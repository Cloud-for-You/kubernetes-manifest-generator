getBootstrap() {

  local name="${1}"
  local appconfig="${2}"
  local namespace="${3:-${name}}"
  local appproject="${4:-default}"

  local global_value_file="${ROOTDIR}/values/global.yaml"
  local git_repo=$(yq read -X ${global_value_file} 'system_repo')

  local argo_namespace=csas-argocd-sys

  cp ${ROOTDIR}/script/init-values/bootstrap.default ${ROOTDIR}/.FINAL_RESOURCES/bootstrap/${name}.yaml
  yq write -i ${ROOTDIR}/.FINAL_RESOURCES/bootstrap/${name}.yaml 'metadata.name' ${name}
  yq write -i ${ROOTDIR}/.FINAL_RESOURCES/bootstrap/${name}.yaml 'metadata.namespace' ${argo_namespace}
  yq write -i ${ROOTDIR}/.FINAL_RESOURCES/bootstrap/${name}.yaml 'spec.source.repoURL' ${git_repo}
  yq write -i ${ROOTDIR}/.FINAL_RESOURCES/bootstrap/${name}.yaml 'spec.source.path' .FINAL_RESOURCES/${name}
  yq write -i ${ROOTDIR}/.FINAL_RESOURCES/bootstrap/${name}.yaml 'spec.destination.namespace' ${namespace}
  yq write -i ${ROOTDIR}/.FINAL_RESOURCES/bootstrap/${name}.yaml 'spec.project' ${appproject}

  if [ ! -z "${appconfig}" ]; then
    echo "${appconfig}" | yq merge -i --overwrite ${ROOTDIR}/.FINAL_RESOURCES/bootstrap/${name}.yaml -
  fi

}
